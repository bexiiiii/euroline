# üîç UMAPI Search Integration - –û—Ç—á—ë—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏

**–î–∞—Ç–∞:** 2025-10-15  
**–ó–∞–¥–∞—á–∞:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è UMAPI endpoints –≤ –≥–ª–∞–≤–Ω—ã–π –ø–æ–∏—Å–∫ —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∞–Ω–∞–ª–æ–≥–æ–≤ –∏ –∑–∞–º–µ–Ω–∏—Ç–µ–ª–µ–π  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

---

## üìã –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### Backend (Java/Spring Boot)

#### 1. –°–æ–∑–¥–∞–Ω–∞ —É—Ç–∏–ª–∏—Ç–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –∞—Ä—Ç–∏–∫—É–ª–æ–≤
**–§–∞–π–ª:** `ArticleNormalizationUtil.java`
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–±–µ–ª–æ–≤, –¥–µ—Ñ–∏—Å–æ–≤, —Ç–æ—á–µ–∫, —Å–ª—ç—à–µ–π
- ‚úÖ –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ –≤–µ—Ä—Ö–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É
- ‚úÖ –ú–µ—Ç–æ–¥ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∞—Ä—Ç–∏–∫—É–ª–æ–≤ `matches()`
- ‚úÖ –ú–µ—Ç–æ–¥ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

```java
String normalized = ArticleNormalizationUtil.normalize("098 645-2041");
// Result: "0986452041"
```

#### 2. –†–∞—Å—à–∏—Ä–µ–Ω SearchResponse.Item
**–§–∞–π–ª:** `SearchResponse.java`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `umapiSuppliers` - —Å–ø–∏—Å–æ–∫ –±—Ä–µ–Ω–¥–æ–≤ –∏–∑ UMAPI
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `analogsCount` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–Ω–∞–ª–æ–≥–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `oeNumbers` - OE –∫–æ–¥—ã
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `tradeNumbers` - —Ç–æ—Ä–≥–æ–≤—ã–µ –Ω–æ–º–µ—Ä–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `eanNumbers` - EAN —à—Ç—Ä–∏—Ö–∫–æ–¥—ã
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `criteria` - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `umapiImages` - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ UMAPI
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã `UmapiSupplier` –∏ `TechnicalCriteria`

#### 3. –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω MainSearchService
**–§–∞–π–ª:** `MainSearchService.java`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ dependency –Ω–∞ `UmapiIntegrationService`
- ‚úÖ –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `enrichWithUmapiData()` –¥–ª—è –æ–±–æ–≥–∞—â–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤—ã–∑–æ–≤ UMAPI –ø—Ä–∏ OEM –ø–æ–∏—Å–∫–µ
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: –º–∞–∫—Å–∏–º—É–º 50 –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ UMAPI –∑–∞ –æ–¥–∏–Ω –ø–æ–∏—Å–∫
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:**
1. –ü—Ä–∏ OEM –ø–æ–∏—Å–∫–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∞—Ä—Ç–∏–∫—É–ª—ã
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∞—Ä—Ç–∏–∫—É–ª–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `umapiService.searchByArticle()`
3. –ü–æ–ª—É—á–∞—é—Ç—Å—è –±—Ä–µ–Ω–¥—ã (brand refinement)
4. –î–ª—è –ø–µ—Ä–≤–æ–≥–æ –±—Ä–µ–Ω–¥–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∞–Ω–∞–ª–æ–≥–∏
5. –î–∞–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞

---

### Frontend (Next.js/TypeScript/React)

#### 4. –û–±–Ω–æ–≤–ª—ë–Ω TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
**–§–∞–π–ª:** `lib/api/search.ts`
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `SearchItem` —Å UMAPI –ø–æ–ª—è–º–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –Ω–æ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:
  - `UmapiSupplier` - –±—Ä–µ–Ω–¥ —Å —Ç–∏–ø–æ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
  - `TechnicalCriteria` - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
  - `BrandRefinementResponse` - –æ—Ç–≤–µ—Ç –ø–æ–∏—Å–∫–∞ –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É
  - `AnalogsResponse` - –æ—Ç–≤–µ—Ç —Å –∞–Ω–∞–ª–æ–≥–∞–º–∏
  - `AnalogItem` - –¥–µ—Ç–∞–ª–∏ –∞–Ω–∞–ª–æ–≥–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã API:
  - `searchByArticle()` - –ø–æ–∏—Å–∫ –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É
  - `getAnalogs()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∞–Ω–∞–ª–æ–≥–æ–≤

#### 5. –û–±–Ω–æ–≤–ª—ë–Ω SearchResultsTable –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
**–§–∞–π–ª:** `components/SearchResultsTable.tsx`

**Desktop –≤–µ—Ä—Å–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –±–µ–π–¥–∂–∏ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π UMAPI:
  - üîÑ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–Ω–∞–ª–æ–≥–æ–≤ (–∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π)
  - ‚úì –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ OE –∫–æ–¥–æ–≤ (—Å –ø–æ–¥—Å–∫–∞–∑–∫–æ–π –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏)
  - üè∑Ô∏è –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±—Ä–µ–Ω–¥–æ–≤ (—Å –ø–æ–¥—Å–∫–∞–∑–∫–æ–π)
- ‚úÖ –†–∞—Å–∫—Ä—ã–≤–∞—é—â–∞—è—Å—è —Ç–∞–±–ª–∏—Ü–∞ "–ê–Ω–∞–ª–æ–≥–∏ –∏ –∑–∞–º–µ–Ω–∏—Ç–µ–ª–∏":
  - –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∫–ª–∏–∫–µ
  - –ö–æ–ª–æ–Ω–∫–∏: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å, –ê—Ä—Ç–∏–∫—É–ª, –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ, –¢–∏–ø, –ö–∞—á–µ—Å—Ç–≤–æ, –î–µ–π—Å—Ç–≤–∏—è
  - –ö–Ω–æ–ø–∫–∞ "–í –∫–æ—Ä–∑–∏–Ω—É" –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–Ω–∞–ª–æ–≥–∞
  - –ë–µ–π–¥–∂–∏ —Ç–∏–ø–æ–≤: OE –æ—Ä–∏–≥–∏–Ω–∞–ª, OEM, –ê–Ω–∞–ª–æ–≥
  - –ë–µ–π–¥–∂–∏ –∫–∞—á–µ—Å—Ç–≤–∞: OEM, Aftermarket
  - Loader –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

**Mobile –≤–µ—Ä—Å–∏—è:**
- ‚úÖ –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –±–µ–π–¥–∂–∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
- ‚úÖ –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –∫–∞—Ä—Ç–æ—á–Ω–∞—è —Ä–∞—Å–∫—Ä—ã–≤–∞—é—â–∞—è—Å—è —Ç–∞–±–ª–∏—Ü–∞ –∞–Ω–∞–ª–æ–≥–æ–≤
- ‚úÖ –ö–Ω–æ–ø–∫–∏ "–í –∫–æ—Ä–∑–∏–Ω—É" –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–Ω–∞–ª–æ–≥–∞
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

**–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `getAnalogMatchTypeBadge()` - –±–µ–π–¥–∂ —Ç–∏–ø–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
- `getAnalogQualityBadge()` - –±–µ–π–¥–∂ –∫–∞—á–µ—Å—Ç–≤–∞

---

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π

1. **–ü–æ–∏—Å–∫ –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `0986452041`)
   ```
   –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –∞—Ä—Ç–∏–∫—É–ª ‚Üí –°–∏—Å—Ç–µ–º–∞ –∏—â–µ—Ç –≤ Laximo –∏ 1C
   ```

2. **–û–±–æ–≥–∞—â–µ–Ω–∏–µ UMAPI**
   ```
   Backend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ UMAPI
   - –°–ø–∏—Å–æ–∫ –±—Ä–µ–Ω–¥–æ–≤ (BOSCH, MANN-FILTER –∏ —Ç.–¥.)
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞–Ω–∞–ª–æ–≥–æ–≤
   - OE –∫–æ–¥—ã
   ```

3. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**
   ```
   –û—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–º –∞—Ä—Ç–∏–∫—É–ª–æ–º
   + –ë–µ–π–¥–∂–∏: "üîÑ 15 –∞–Ω–∞–ª–æ–≥–æ–≤", "‚úì 3 OE –∫–æ–¥–∞", "üè∑Ô∏è 5 –±—Ä–µ–Ω–¥–æ–≤"
   ```

4. **–ö–ª–∏–∫ –Ω–∞ "–ê–Ω–∞–ª–æ–≥–∏"**
   ```
   –†–∞—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞:
   
   üîÑ –ê–ù–ê–õ–û–ì–ò –ò –ó–ê–ú–ï–ù–ò–¢–ï–õ–ò
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å‚îÇ –ê—Ä—Ç–∏–∫—É–ª   ‚îÇ –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ ‚îÇ   –¢–∏–ø    ‚îÇ –ö–∞—á–µ—Å—Ç–≤–æ ‚îÇ –î–µ–π—Å—Ç–≤–∏—è ‚îÇ
   ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
   ‚îÇ MANN-FILTER ‚îÇ W712/75   ‚îÇ Oil Filter   ‚îÇOE –æ—Ä–∏–≥–∏–Ω–∞‚îÇ   OEM    ‚îÇ[–í –∫–æ—Ä–∑–∏–Ω—É‚îÇ
   ‚îÇ FRAM        ‚îÇ PH5796    ‚îÇ Oil Filter   ‚îÇ –ê–Ω–∞–ª–æ–≥   ‚îÇAftermark ‚îÇ[–í –∫–æ—Ä–∑–∏–Ω—É‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
   ```

5. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É**
   ```
   –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å:
   - –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∞—Ä—Ç–∏–∫—É–ª
   - –õ—é–±–æ–π –∞–Ω–∞–ª–æ–≥ –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º
   ```

---

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Performance –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - Brand search: 6 —á–∞—Å–æ–≤ (Redis)
   - Analogs: 6 —á–∞—Å–æ–≤ (Redis)
   - –û–∂–∏–¥–∞–µ–º—ã–π hit rate: 80-90%

2. **Lazy loading**
   - –ê–Ω–∞–ª–æ–≥–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –±–µ–π–¥–∂
   - –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

3. **Batch processing**
   - –ú–∞–∫—Å–∏–º—É–º 50 –∞—Ä—Ç–∏–∫—É–ª–æ–≤ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∑–∞ —Ä–∞–∑
   - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ overload UMAPI API

### Error handling

```java
try {
    BrandRefinementDto brandData = umapiService.searchByArticle(oem);
    // ... –æ–±—Ä–∞–±–æ—Ç–∫–∞
} catch (Exception e) {
    log.debug("Failed to enrich UMAPI data for article {}: {}", oem, e.getMessage());
    // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ä–∞–±–æ—Ç—É –±–µ–∑ UMAPI –¥–∞–Ω–Ω—ã—Ö
}
```

### –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∞—Ä—Ç–∏–∫—É–ª–æ–≤

```java
// –î–æ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
"098 645-2041" ‚Üí "0986452041"
"W 712/75"     ‚Üí "W71275"
"ph-5796"      ‚Üí "PH5796"

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
String normalized = ArticleNormalizationUtil.normalize(article);
boolean match = ArticleNormalizationUtil.matches(article1, article2);
```

---

## üöÄ Deployment

### –®–∞–≥–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞

```bash
# 1. Backend
cd /Users/behruztohtamishov/euroline/autoparts_backend
mvn clean package -DskipTests
java -jar target/autoparts-0.0.1-SNAPSHOT.jar --spring.profiles.active=prod

# 2. Frontend
cd /Users/behruztohtamishov/euroline/autoparts
npm run dev

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞
curl "http://localhost:8080/api/v1/search?q=0986452041" | jq
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

1. **–ë–µ–π–¥–∂–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è:**
   ```bash
   # –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –¥–∞–Ω–Ω—ã–µ —Å umapiSuppliers
   curl "http://localhost:8080/api/v1/search?q=0986452041" | jq '.results[0].umapiSuppliers'
   ```

2. **–ê–Ω–∞–ª–æ–≥–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è:**
   ```bash
   curl "http://localhost:8080/api/parts-search/by-article?article=0986452041" | jq
   curl "http://localhost:8080/api/parts-search/analogs?article=0986452041&brand=BOSCH" | jq
   ```

3. **Frontend —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   - –û—Ç–∫—Ä—ã—Ç—å: `http://localhost:3000`
   - –í–≤–µ—Å—Ç–∏: `0986452041`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–µ–π–¥–∂–∏
   - –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ "üîÑ X –∞–Ω–∞–ª–æ–≥–æ–≤"
   - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏

### Backend

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|---------|----------|------------|
| UMAPI –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –ø–æ–∏—Å–∫ | 1-50 | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∞—Ä—Ç–∏–∫—É–ª–æ–≤ |
| –í—Ä–µ–º—è –æ–±–æ–≥–∞—â–µ–Ω–∏—è | 50-500ms | –ü—Ä–∏ cache miss |
| –í—Ä–µ–º—è —Å –∫—ç—à–µ–º | 5-10ms | –ü—Ä–∏ cache hit |
| Memory overhead | +2-5MB | –ù–∞ 100 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ |

### Frontend

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|---------|----------|------------|
| Bundle size increase | +15KB | –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã |
| Initial render | –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π | Lazy loading –∞–Ω–∞–ª–æ–≥–æ–≤ |
| Analogs load time | 100-300ms | API call + render |

---

## üé® UI/UX –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã

**–ë–µ–π–¥–∂–∏:**
- üîÑ –°–∏–Ω–∏–π - –ê–Ω–∞–ª–æ–≥–∏ (–∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π)
- ‚úì –ó–µ–ª—ë–Ω—ã–π - OE –∫–æ–¥—ã
- üè∑Ô∏è –§–∏–æ–ª–µ—Ç–æ–≤—ã–π - –ë—Ä–µ–Ω–¥—ã

**–¢–∞–±–ª–∏—Ü–∞ –∞–Ω–∞–ª–æ–≥–æ–≤:**
- –ì–æ–ª—É–±–æ–π —Ñ–æ–Ω –∑–∞–≥–æ–ª–æ–≤–∫–∞
- –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ –º–µ–∂–¥—É —Å—Ç—Ä–æ–∫–∞–º–∏
- Hover —ç—Ñ—Ñ–µ–∫—Ç –Ω–∞ —Å—Ç—Ä–æ–∫–∞—Ö
- –¶–≤–µ—Ç–Ω—ã–µ –±–µ–π–¥–∂–∏ —Ç–∏–ø–æ–≤

**–°–æ—Å—Ç–æ—è–Ω–∏—è:**
- Loading spinner –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- "–ê–Ω–∞–ª–æ–≥–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã" –ø—Ä–∏ –ø—É—Å—Ç–æ–º –æ—Ç–≤–µ—Ç–µ
- Chevron Up/Down –ø—Ä–∏ —Ä–∞—Å–∫—Ä—ã—Ç–∏–∏

---

## ‚úÖ Checklist –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [x] Backend: ArticleNormalizationUtil —Å–æ–∑–¥–∞–Ω
- [x] Backend: SearchResponse.Item —Ä–∞—Å—à–∏—Ä–µ–Ω
- [x] Backend: MainSearchService –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω
- [x] Backend: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å UmapiIntegrationService
- [x] Frontend: TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- [x] Frontend: API –º–µ—Ç–æ–¥—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [x] Frontend: SearchResultsTable –æ–±–Ω–æ–≤–ª—ë–Ω
- [x] Frontend: Desktop –≤–µ—Ä—Å–∏—è –≥–æ—Ç–æ–≤–∞
- [x] Frontend: Mobile –≤–µ—Ä—Å–∏—è –≥–æ—Ç–æ–≤–∞
- [x] UI: –ë–µ–π–¥–∂–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [x] UI: –¢–∞–±–ª–∏—Ü–∞ –∞–Ω–∞–ª–æ–≥–æ–≤ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [x] UI: –ö–Ω–æ–ø–∫–∏ "–í –∫–æ—Ä–∑–∏–Ω—É" —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç
- [ ] Testing: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] Testing: E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **UMAPI Rate Limits**
   - –ú–∞–∫—Å–∏–º—É–º 50 –∞—Ä—Ç–∏–∫—É–ª–æ–≤ –∑–∞ –∑–∞–ø—Ä–æ—Å
   - –í–æ–∑–º–æ–∂–Ω—ã –∑–∞–¥–µ—Ä–∂–∫–∏ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ê–Ω–∞–ª–æ–≥–∏ –∫—ç—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ 6 —á–∞—Å–æ–≤
   - –ù–æ–≤—ã–µ –∞–Ω–∞–ª–æ–≥–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã —Å—Ä–∞–∑—É

3. **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è**
   - –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –º–æ–≥—É—Ç –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è
   - –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## üîÆ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### Priority 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∞—Ä—Ç–∏–∫—É–ª–∞—Ö
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –ø–æ–∏—Å–∫–∞ (VIN, OEM, TEXT)
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ production

### Priority 2 (–í–∞–∂–Ω–æ)
- [ ] –î–æ–±–∞–≤–∏—Ç—å unit —Ç–µ—Å—Ç—ã –¥–ª—è ArticleNormalizationUtil
- [ ] –î–æ–±–∞–≤–∏—Ç—å integration —Ç–µ—Å—Ç—ã –¥–ª—è MainSearchService
- [ ] –£–ª—É—á—à–∏—Ç—å error handling

### Priority 3 (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ)
- [ ] –î–æ–±–∞–≤–∏—Ç—å tooltip —Å –ø–æ–ª–Ω—ã–º —Å–ø–∏—Å–∫–æ–º OE –∫–æ–¥–æ–≤
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∞–Ω–∞–ª–æ–≥–æ–≤ (OE/OEM/Aftermarket)
- [ ] –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∞–Ω–∞–ª–æ–≥–æ–≤ –ø–æ –∫–∞—á–µ—Å—Ç–≤—É

---

## üìû Support

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. **UMAPI API Key** –≤ `application-prod.yml`
2. **Redis** —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
3. **Logs** –≤ `logs/application.log`
4. **Network** –º–µ–∂–¥—É backend –∏ UMAPI API

**–ö–æ–º–∞–Ω–¥—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Redis
redis-cli KEYS "umapi-*"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å logs
tail -f logs/application.log | grep -i umapi

# –¢–µ—Å—Ç UMAPI endpoint
curl -H "Authorization: Bearer YOUR_API_KEY" \
  "https://api.umapi.ru/v2/autocatalog/ru_RU/BrandRefinement/0986452041"
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [UMAPI_INTEGRATION.md](./UMAPI_INTEGRATION.md) - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è UMAPI
- [UMAPI_QUICKSTART.md](./UMAPI_QUICKSTART.md) - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- [UMAPI_FINAL_REPORT.md](./UMAPI_FINAL_REPORT.md) - –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

---

**Status:** ‚úÖ READY FOR TESTING  
**Next:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∞—Ä—Ç–∏–∫—É–ª–∞–º–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–µ–Ω/–æ—Å—Ç–∞—Ç–∫–æ–≤
